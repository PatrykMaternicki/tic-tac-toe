/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var _Game = __webpack_require__(1);
	
	document.addEventListener('DOMContentLoaded', function () {
	  loadGame();
	});
	function loadGame() {
	  var GameMenager = new _Game.Game();
	  GameMenager.init();
	  document.getElementById('startApp').addEventListener('click', function () {
	    GameMenager.run();
	  }, 'false');
	}

/***/ },
/* 1 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	exports.Game = undefined;
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _ConfigMenager = __webpack_require__(2);
	
	var _SceneMenager = __webpack_require__(4);
	
	var _AssetsMenager = __webpack_require__(6);
	
	var _GameControler = __webpack_require__(8);
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var Game = exports.Game = function () {
	    function Game() {
	        _classCallCheck(this, Game);
	
	        this.configMenager;
	        this.sceneMenager;
	        this.assetsMenager;
	        this.gameControler;
	    }
	
	    _createClass(Game, [{
	        key: 'init',
	        value: function init() {
	            this.configMenager = new _ConfigMenager.ConfigMenager();
	            this.sceneMenager = new _SceneMenager.SceneMenager();
	            this.assetsMenager = new _AssetsMenager.AssetsMenager();
	            this.gameControler = new _GameControler.GameControler();
	            this.assetsMenager.run();
	        }
	    }, {
	        key: 'run',
	        value: function run() {
	            this.configMenager.run();
	            this.configMenager.setAssets(this.assetsMenager.getAssets());
	            this.sceneMenager.addHookRemove(document.getElementById("app"), document.getElementById("form"));
	            this.sceneMenager.remove();
	            this.buildView();
	            this.gameControler.setPlayers(this.configMenager.getPlayer1(), this.configMenager.getPlayer2());
	            this.sceneMenager.setWhoTurn(this.gameControler.whoPlayFirst(), this.configMenager.getPlayer1(), this.configMenager.getPlayer2());
	            this.addEventsToFields();
	        }
	    }, {
	        key: 'buildView',
	        value: function buildView() {
	            this.sceneMenager.addHook(document.getElementById("app"));
	            this.sceneMenager.addGameScene(this.configMenager.getAssets(), this.configMenager.getPlayer1(), this.configMenager.getPlayer2(), this.configMenager.getNowRound());
	        }
	    }, {
	        key: 'addEventsToFields',
	        value: function addEventsToFields() {
	            var _this = this;
	
	            var nodesFields = document.querySelectorAll("td");
	            nodesFields.forEach(function (node) {
	                return node.addEventListener('click', function () {
	
	                    if (_this.gameControler.roundIsEnd()) {
	                        return;
	                    }
	                    _this.startTurn(node);
	                    if (_this.gameControler.getNowTurn() >= 4) {
	                        if (_this.gameControler.getNowTurn() == 9 && !_this.gameControler.roundIsEnd()) {
	                            _this.sceneMenager.addToSceneTie();
	                            window.setTimeout(function () {
	                                _this.sceneMenager.removeSceneWhoWin();
	                                _this.playAgain(document.querySelectorAll("td"));
	                            }, 2000);
	                            return;
	                        }
	
	                        if (_this.gameControler.isWinner(document.querySelectorAll("td"))) {
	                            _this.sceneMenager.addToSceneWhoWin(_this.gameControler.getWinnerPlayer(), _this.configMenager.getAssets());
	                            _this.configMenager.increaseWinStreak(_this.gameControler.getWinnerPlayer());
	                            _this.configMenager.increaseRounds();
	                            if (_this.gameControler.weGetWinnerGame(_this.configMenager.getPlayer1().getWinRound(), _this.configMenager.getPlayer2().getWinRound(), _this.configMenager.getMaxRound())) {
	                                _this.checkAndAddWhoWin();
	                                return;
	                            }
	                            _this.sceneMenager.renderElementsGame(_this.gameControler.getWinnerPlayer(), _this.configMenager.getPlayer1(), _this.configMenager.getPlayer2(), _this.configMenager.getNowRound());
	                            window.setTimeout(function () {
	                                _this.sceneMenager.removeSceneWhoWin();
	                                _this.playAgain(document.querySelectorAll("td"));
	                            }, 2000);
	                        }
	                    }
	                });
	            });
	        }
	    }, {
	        key: 'startTurn',
	        value: function startTurn(node) {
	            if (!this.isEmptyField(node)) {
	                console.log('OK');
	                return;
	            }
	            this.gameControler.addWhoGetField(node);
	            this.sceneMenager.addHook(node);
	            this.sceneMenager.setImageToFieldScene(this.gameControler.getCurrentTurn());
	            this.gameControler.changePlayer();
	            this.sceneMenager.addHook(document.getElementById("whoTurn"));
	            this.sceneMenager.renderElementWhoNowPlay(this.gameControler.getCurrentTurn());
	            this.gameControler.increaseTurn();
	        }
	    }, {
	        key: 'isEmptyField',
	        value: function isEmptyField(node) {
	            if (node.firstElementChild == null) return true;else return false;
	        }
	    }, {
	        key: 'playAgain',
	        value: function playAgain(nodes) {
	            this.sceneMenager.clearField(nodes);
	            this.gameControler.resetRound();
	            this.gameControler.setRoundIsEnd(false);
	        }
	    }, {
	        key: 'checkAndAddWhoWin',
	        value: function checkAndAddWhoWin() {
	            console.log("U here?");
	            console.log(this.configMenager.getPlayer1().getWinRound());
	            console.log(this.configMenager.getMaxRound());
	            if (this.configMenager.getPlayer1().getWinRound() == this.configMenager.getMaxRound()) {
	                this.sceneMenager.addHookRemove(document.getElementById("app"), document.getElementById("allGame"));
	                this.sceneMenager.remove();
	            } else if (this.configMenager.getPlayer2().getWinRound() == this.configMenager.getMaxRound()) {
	                this.sceneMenager.addHookRemove(document.getElementById("app"), document.getElementById("allGame"));
	                this.sceneMenager.remove();
	            }
	        }
	    }]);

	    return Game;
	}();

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.ConfigMenager = undefined;
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _Player = __webpack_require__(3);
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var ConfigMenager = exports.ConfigMenager = function () {
	  function ConfigMenager() {
	    _classCallCheck(this, ConfigMenager);
	
	    this.player1;
	    this.player2;
	    this.assets = new Array();
	    this.nowRound;
	    this.maxRound;
	    this.rdyConfig = false;
	  }
	
	  _createClass(ConfigMenager, [{
	    key: 'run',
	    value: function run() {
	      this.setConfig();
	      this.buildObjectPlayer();
	      this.rdyConfig = true;
	      this.nowRound = 1;
	      console.log(this.nowRound);
	      console.log(this.player1);
	      console.log(this.player2);
	    }
	  }, {
	    key: 'setConfig',
	    value: function setConfig() {
	      this.setRound();
	    }
	  }, {
	    key: 'setRound',
	    value: function setRound() {
	      var OptionsDOM = document.getElementById('roundOptions');
	      this.maxRound = OptionsDOM.options[OptionsDOM.selectedIndex].value;
	    }
	  }, {
	    key: 'getNowRound',
	    value: function getNowRound() {
	      return this.nowRound;
	    }
	  }, {
	    key: 'getMaxRound',
	    value: function getMaxRound() {
	      return this.maxRound;
	    }
	  }, {
	    key: 'buildObjectPlayer',
	    value: function buildObjectPlayer() {
	      this.player1 = new _Player.Player();
	      var namePlayer = document.getElementById('player1').value;
	      this.player1.setNamePlayer(namePlayer);
	      this.player1.setId(0);
	      this.player2 = new _Player.Player();
	      namePlayer = document.getElementById('player2').value;
	      this.player2.setNamePlayer(namePlayer);
	      this.player2.setId(1);
	      var imagePlayer = new Image();
	      imagePlayer.src = './JS/modules/Model/Assests/tac.png';
	      this.player1.setImage(imagePlayer);
	      var imagePlayer2 = new Image();
	      imagePlayer2.src = './JS/modules/Model/Assests/tic.png';
	      this.player2.setImage(imagePlayer2);
	      this.player1.setRound(0);
	      this.player2.setRound(0);
	    }
	  }, {
	    key: 'setAssets',
	    value: function setAssets(item) {
	      this.assets = item;
	    }
	  }, {
	    key: 'getAssets',
	    value: function getAssets() {
	      return this.assets;
	    }
	  }, {
	    key: 'getPlayer1',
	    value: function getPlayer1() {
	      return this.player1;
	    }
	  }, {
	    key: 'getPlayer2',
	    value: function getPlayer2() {
	      return this.player2;
	    }
	  }, {
	    key: 'increaseWinStreak',
	    value: function increaseWinStreak(objectPlayer) {
	      if (objectPlayer.getId() == 0) {
	        this.player1.increaseWinRounds();
	      } else {
	        this.player2.increaseWinRounds();
	      }
	    }
	  }, {
	    key: 'increaseRounds',
	    value: function increaseRounds() {
	      this.nowRound++;
	    }
	  }]);

	  return ConfigMenager;
	}();

/***/ },
/* 3 */
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var Player = exports.Player = function () {
	  function Player() {
	    _classCallCheck(this, Player);
	  }
	
	  _createClass(Player, [{
	    key: "contructor",
	    value: function contructor() {
	      this.round;
	      this.Image;
	      this.namePlayer;
	      this.id;
	    }
	  }, {
	    key: "setNamePlayer",
	    value: function setNamePlayer(namePlayer) {
	      this.namePlayer = namePlayer;
	    }
	  }, {
	    key: "getNamePlayer",
	    value: function getNamePlayer() {
	      return this.namePlayer;
	    }
	  }, {
	    key: "setImage",
	    value: function setImage(imageDOM) {
	      this.Image = imageDOM;
	    }
	  }, {
	    key: "getImageSrc",
	    value: function getImageSrc() {
	      return this.Image.src;
	    }
	  }, {
	    key: "setRound",
	    value: function setRound(round) {
	      this.round = round;
	    }
	  }, {
	    key: "getWinRound",
	    value: function getWinRound() {
	      console.log(this.round);
	      return this.round;
	    }
	  }, {
	    key: "setId",
	    value: function setId(id) {
	      this.id = id;
	    }
	  }, {
	    key: "getId",
	    value: function getId() {
	      return this.id;
	    }
	  }, {
	    key: "increaseWinRounds",
	    value: function increaseWinRounds() {
	      this.round++;
	    }
	  }]);

	  return Player;
	}();

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.SceneMenager = undefined;
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _Scene = __webpack_require__(5);
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var SceneMenager = exports.SceneMenager = function () {
	  function SceneMenager() {
	    _classCallCheck(this, SceneMenager);
	
	    this.scene = new _Scene.Scene();
	    this.hook;
	  }
	
	  _createClass(SceneMenager, [{
	    key: 'remove',
	    value: function remove() {
	      this.deleteScene();
	    }
	  }, {
	    key: 'addHook',
	    value: function addHook(hook) {
	      this.hook = hook;
	    }
	  }, {
	    key: 'addHookRemove',
	    value: function addHookRemove(parentElement, childElement) {
	      this.scene.setReferenceElement(parentElement);
	      this.scene.setChildElement(childElement);
	    }
	  }, {
	    key: 'deleteScene',
	    value: function deleteScene() {
	      var parentElement = this.scene.getReferenceElement();
	      var childElement = this.scene.getChildElement();
	      console.log(childElement);
	      parentElement.removeChild(childElement);
	    }
	  }, {
	    key: 'addGameScene',
	    value: function addGameScene(assets, player1, player2, round) {
	      console.log('Your ID?' + player2.getId());
	      this.hook.style.width = "100%";
	      this.addScene(assets[0]);
	      this.setPlayerToScene(player1);
	      this.setPlayerToScene(player2);
	      this.setRoundsToScene(round);
	    }
	  }, {
	    key: 'addScene',
	    value: function addScene(asset) {
	      console.log(asset);
	      this.hook.innerHTML = this.hook.innerHTML + asset;
	    }
	  }, {
	    key: 'setPlayerToScene',
	    value: function setPlayerToScene(objectPlayer) {
	      console.log(objectPlayer.getId());
	      if (objectPlayer.getId() == 0) {
	        var imagePlayer = new Image(100, 100);
	        imagePlayer.src = objectPlayer.getImageSrc();
	        document.getElementById('imagePlayer').appendChild(imagePlayer);
	        document.getElementById('player1').innerHTML = "<p class='infoTextPlayer'>Player 1</p>" + objectPlayer.getNamePlayer();
	        document.getElementById('winRounds').innerHTML = "<p class='infoWinRounds'>Win Round<br><br></p>" + objectPlayer.getWinRound();
	      } else if (objectPlayer.getId() == 1) {
	        console.log('RUN?');
	        console.log(objectPlayer);
	        var imagePlayer = new Image(100, 100);
	        imagePlayer.src = objectPlayer.getImageSrc();
	        document.getElementById('imagePlayer2').appendChild(imagePlayer);
	        document.getElementById('player2').innerHTML = "<p class='infoTextPlayer'>Player 2</p>" + objectPlayer.getNamePlayer();
	        document.getElementById('winRounds2').innerHTML = "<p class='infoWinRounds'>Win Round<br><br></p>" + objectPlayer.getWinRound();
	      }
	    }
	  }, {
	    key: 'setRoundsToScene',
	    value: function setRoundsToScene(round) {
	      document.getElementById('roundNow').innerHTML = "<p class='infoTextPlayer'>Round</p>" + round;
	    }
	  }, {
	    key: 'setWhoTurn',
	    value: function setWhoTurn(number, player1, player2) {
	      var imagePlayer = new Image(100, 100);
	      if (number == 0) {
	        imagePlayer.src = player1.getImageSrc();
	        document.getElementById('whoTurn').innerHTML = "<p id='whoTurnNamePlayer' class ='infoTextPlayer'>Now Turn</p>" + player1.getNamePlayer();
	        document.getElementById('whoTurn').insertBefore(imagePlayer, document.getElementById('whoTurnNamePlayer'));
	      } else {
	        imagePlayer.src = player2.getImageSrc();
	        document.getElementById('whoTurn').innerHTML = "<p id='whoTurnNamePlayer' class ='infoTextPlayer'>Now Turn</p>" + player2.getNamePlayer();
	        document.getElementById('whoTurn').insertBefore(imagePlayer, document.getElementById('whoTurnNamePlayer'));
	      }
	    }
	  }, {
	    key: 'setImageToFieldScene',
	    value: function setImageToFieldScene(objectPlayer) {
	      imagePlayer = new Image(150, 150);
	      imagePlayer.src = objectPlayer.getImageSrc();
	      imagePlayer.classList.add("fieldImage");
	      this.hook.appendChild(imagePlayer);
	    }
	  }, {
	    key: 'renderElementWhoNowPlay',
	    value: function renderElementWhoNowPlay(objectPlayer) {
	      this.hook.innerHTML = "<p id='whoTurnNamePlayer' class ='infoTextPlayer'>Now Turn</p>" + objectPlayer.getNamePlayer();
	      var imagePlayer = new Image(100, 100);
	      imagePlayer.src = objectPlayer.getImageSrc();
	      this.hook.insertBefore(imagePlayer, document.getElementById('whoTurnNamePlayer'));
	    }
	  }, {
	    key: 'addToSceneWhoWin',
	    value: function addToSceneWhoWin(player) {
	      document.getElementById('frame').classList.add("frameWin");
	      document.getElementById('frame').innerHTML = "Winner  <br><br>" + player.getNamePlayer();
	    }
	  }, {
	    key: 'removeSceneWhoWin',
	    value: function removeSceneWhoWin() {
	      document.getElementById('frame').classList.remove("frameWin");
	      document.getElementById("frame").innerHTML = "";
	    }
	  }, {
	    key: 'renderElementsGame',
	    value: function renderElementsGame(winnerPlayer, player1, player2, round) {
	      if (winnerPlayer.getId() == player1.getId()) {
	        document.getElementById("winRounds").innerHTML = "<p class='infoWinRounds'>Win Round<br><br></p>" + winnerPlayer.getWinRound();
	      } else {
	        document.getElementById("winRounds2").innerHTML = "<p class='infoWinRounds'>Win Round<br><br></p>" + winnerPlayer.getWinRound();
	      }
	      this.setRoundsToScene(round);
	    }
	  }, {
	    key: 'addToSceneTie',
	    value: function addToSceneTie() {
	      document.getElementById('frame').classList.add("frameWin");
	      document.getElementById('frame').innerHTML = "tie";
	    }
	  }, {
	    key: 'clearField',
	    value: function clearField(nodes) {
	      var _this = this;
	
	      nodes.forEach(function (node) {
	        if (node.firstElementChild != null) {
	          node.id = "";
	          _this.scene.setReferenceElement(node);
	          _this.scene.setChildElement(node.firstElementChild);
	          _this.deleteScene();
	        }
	      });
	    }
	  }]);

	  return SceneMenager;
	}();

/***/ },
/* 5 */
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var Scene = exports.Scene = function () {
	  function Scene() {
	    _classCallCheck(this, Scene);
	
	    this.referenceElement;
	    this.childElement;
	  }
	
	  _createClass(Scene, [{
	    key: "setReferenceElement",
	    value: function setReferenceElement(parentItem) {
	      this.referenceElement = parentItem;
	    }
	  }, {
	    key: "getReferenceElement",
	    value: function getReferenceElement() {
	      return this.referenceElement;
	    }
	  }, {
	    key: "setChildElement",
	    value: function setChildElement(childItem) {
	      this.childElement = childItem;
	    }
	  }, {
	    key: "getChildElement",
	    value: function getChildElement() {
	      return this.childElement;
	    }
	  }]);

	  return Scene;
	}();

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.AssetsMenager = undefined;
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _AssetsBuilder = __webpack_require__(7);
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var AssetsMenager = exports.AssetsMenager = function () {
	  function AssetsMenager() {
	    _classCallCheck(this, AssetsMenager);
	
	    this.assetsBuilder = new _AssetsBuilder.AssetsBuilder();
	    this.assets = new Array();
	  }
	
	  _createClass(AssetsMenager, [{
	    key: 'run',
	    value: function run() {
	
	      var requestAssets = this.assetsBuilder.uploadAssets(0);
	      requestAssets.then(function (assets) {
	        this.setAssets(assets);
	      }.bind(this));
	
	      var requestAssets1 = this.assetsBuilder.uploadAssets(1);
	      requestAssets1.then(function (assets) {
	        this.setAssets(assets);
	      }.bind(this));
	    }
	  }, {
	    key: 'getAssets',
	    value: function getAssets() {
	      return this.assets;
	    }
	  }, {
	    key: 'setAssets',
	    value: function setAssets(item) {
	      this.assets.push(item);
	    }
	  }]);

	  return AssetsMenager;
	}();

/***/ },
/* 7 */
/***/ function(module, exports) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var AssetsBuilder = exports.AssetsBuilder = function () {
	  function AssetsBuilder() {
	    _classCallCheck(this, AssetsBuilder);
	
	    this.urlList = ['JS/modules/Model/Assests/assets_game.php', 'JS/modules/Model/Assests/assets_congratulationWinner.php'];
	  }
	
	  _createClass(AssetsBuilder, [{
	    key: 'uploadAssets',
	    value: function uploadAssets(number) {
	      var headers = new Headers();
	      headers.set('Content-Type', 'text/html');
	      headers.set('Method', 'GET');
	      var request = new Request(this.urlList[number], headers);
	      return fetch(request).then(function (response) {
	        return response.text();
	      }).then(function (text) {
	        return text;
	      });
	    }
	  }]);

	  return AssetsBuilder;
	}();

/***/ },
/* 8 */
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var GameControler = exports.GameControler = function () {
	    function GameControler() {
	        _classCallCheck(this, GameControler);
	
	        this.player1;
	        this.player2;
	        this.winnerPlayr;
	        this.currentPlayGame;
	        this.nowTurn = 0;
	        this.isRoundIsEnd = false;
	    }
	
	    _createClass(GameControler, [{
	        key: "setPlayers",
	        value: function setPlayers(player1, player2) {
	            this.player1 = player1;
	            this.player2 = player2;
	        }
	    }, {
	        key: "whoPlayFirst",
	        value: function whoPlayFirst() {
	            var roundNumber = Math.round(Math.random() * 1);
	            if (roundNumber == 0) {
	                this.currentPlayGame = this.player1;
	                return roundNumber;
	            } else {
	                this.currentPlayGame = this.player2;
	                return roundNumber;
	            }
	        }
	    }, {
	        key: "changePlayer",
	        value: function changePlayer() {
	            if (this.currentPlayGame.getId() == 0) {
	                this.currentPlayGame = this.player2;
	            } else if (this.currentPlayGame.getId() == 1) {
	                this.currentPlayGame = this.player1;
	            }
	        }
	    }, {
	        key: "addWhoGetField",
	        value: function addWhoGetField(node) {
	            node.id = this.currentPlayGame.getId();
	        }
	    }, {
	        key: "getCurrentTurn",
	        value: function getCurrentTurn() {
	            return this.currentPlayGame;
	        }
	    }, {
	        key: "increaseTurn",
	        value: function increaseTurn() {
	            this.nowTurn++;
	        }
	    }, {
	        key: "getNowTurn",
	        value: function getNowTurn() {
	            return this.nowTurn;
	        }
	    }, {
	        key: "isWinner",
	        value: function isWinner(nodes) {
	            for (var i = 0; i <= 1; i++) {
	
	                if (this.onLevelIsWin(i, nodes) || this.onVerirticalIsWin(i, nodes) || this.onDiagonalyLeftIsWin(i, nodes) || this.onDiagonalyRightIsWin(i, nodes)) {
	                    this.setWhoIsWinner(i);
	                    console.log(this.winnerPlayer);
	                    this.isRoundIsEnd = true;
	                    return true;
	                }
	            }
	        }
	    }, {
	        key: "onLevelIsWin",
	        value: function onLevelIsWin(i, nodes) {
	            var n = 0;
	            for (var c = 0; c <= 2; c++) {
	                console.log(c);
	                console.log("Now " + n);
	                if (nodes[n].id == i && nodes[n + 1].id == i && nodes[n + 2].id == i && nodes[n].id != "" && nodes[n + 1].id != "" && nodes[n + 2].id != "") {
	
	                    return true;
	                }
	                n = n + 3;
	            }
	        }
	    }, {
	        key: "onVerirticalIsWin",
	        value: function onVerirticalIsWin(i, nodes) {
	            var n = 0;
	            for (var c = 0; c <= 2; c++) {
	                if (nodes[n].id == i && nodes[n + 3].id == i && nodes[n + 6].id == i && nodes[n].id != "" && nodes[n + 3].id != "" && nodes[n + 6].id != "") {
	                    return true;
	                }
	                n++;
	            }
	        }
	    }, {
	        key: "onDiagonalyLeftIsWin",
	        value: function onDiagonalyLeftIsWin(i, nodes) {
	            if (nodes[0].id == i && nodes[4].id == i && nodes[8].id == i && nodes[0].id != "" && nodes[4].id != "" && nodes[8].id != "") {
	                return true;
	            }
	        }
	    }, {
	        key: "onDiagonalyRightIsWin",
	        value: function onDiagonalyRightIsWin(i, nodes) {
	            if (nodes[2].id == i && nodes[4].id == i && nodes[6].id == i && nodes[2].id != "" && nodes[4].id != "" && nodes[6].id != "") {
	                return true;
	            }
	        }
	    }, {
	        key: "setWhoIsWinner",
	        value: function setWhoIsWinner(i) {
	            if (this.player1.getId() == i) {
	                this.winnerPlayer = this.player1;
	                return;
	            } else if (this.player2.getId() == i) {
	                this.winnerPlayer = this.player2;
	                return;
	            }
	        }
	    }, {
	        key: "roundIsEnd",
	        value: function roundIsEnd() {
	            return this.isRoundIsEnd;
	        }
	    }, {
	        key: "getWinnerPlayer",
	        value: function getWinnerPlayer() {
	            return this.winnerPlayer;
	        }
	    }, {
	        key: "setRoundIsEnd",
	        value: function setRoundIsEnd(stateGame) {
	            this.isRoundIsEnd = stateGame;
	        }
	    }, {
	        key: "resetRound",
	        value: function resetRound() {
	            this.nowTurn = 0;
	        }
	    }, {
	        key: "weGetWinnerGame",
	        value: function weGetWinnerGame(player1WinRound, player2WinRound, maxRound) {
	            if (player1WinRound == maxRound || player2WinRound == maxRound) {
	                return true;
	            }
	            return false;
	        }
	    }]);

	    return GameControler;
	}();

/***/ }
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZmEzYTJiOGE4ZWY0NWFkMmFhNGYiLCJ3ZWJwYWNrOi8vLy4vSlMvYXBwLmpzIiwid2VicGFjazovLy8uL0pTL0dhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vSlMvbW9kdWxlcy9Db250cm9sZXIvQ29uZmlnTWVuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9KUy9tb2R1bGVzL01vZGVsL1BsYXllci5qcyIsIndlYnBhY2s6Ly8vLi9KUy9tb2R1bGVzL0NvbnRyb2xlci9TY2VuZU1lbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vSlMvbW9kdWxlcy9Nb2RlbC9TY2VuZS5qcyIsIndlYnBhY2s6Ly8vLi9KUy9tb2R1bGVzL0NvbnRyb2xlci9Bc3NldHNNZW5hZ2VyLmpzIiwid2VicGFjazovLy8uL0pTL21vZHVsZXMvQ29udHJvbGVyL0Fzc2V0c0J1aWxkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vSlMvbW9kdWxlcy9Db250cm9sZXIvR2FtZUNvbnRyb2xlci5qcyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2FkR2FtZSIsIkdhbWVNZW5hZ2VyIiwiaW5pdCIsImdldEVsZW1lbnRCeUlkIiwicnVuIiwiR2FtZSIsImNvbmZpZ01lbmFnZXIiLCJzY2VuZU1lbmFnZXIiLCJhc3NldHNNZW5hZ2VyIiwiZ2FtZUNvbnRyb2xlciIsInNldEFzc2V0cyIsImdldEFzc2V0cyIsImFkZEhvb2tSZW1vdmUiLCJyZW1vdmUiLCJidWlsZFZpZXciLCJzZXRQbGF5ZXJzIiwiZ2V0UGxheWVyMSIsImdldFBsYXllcjIiLCJzZXRXaG9UdXJuIiwid2hvUGxheUZpcnN0IiwiYWRkRXZlbnRzVG9GaWVsZHMiLCJhZGRIb29rIiwiYWRkR2FtZVNjZW5lIiwiZ2V0Tm93Um91bmQiLCJub2Rlc0ZpZWxkcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwibm9kZSIsInJvdW5kSXNFbmQiLCJzdGFydFR1cm4iLCJnZXROb3dUdXJuIiwiYWRkVG9TY2VuZVRpZSIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJyZW1vdmVTY2VuZVdob1dpbiIsInBsYXlBZ2FpbiIsImlzV2lubmVyIiwiYWRkVG9TY2VuZVdob1dpbiIsImdldFdpbm5lclBsYXllciIsImluY3JlYXNlV2luU3RyZWFrIiwiaW5jcmVhc2VSb3VuZHMiLCJ3ZUdldFdpbm5lckdhbWUiLCJnZXRXaW5Sb3VuZCIsImdldE1heFJvdW5kIiwiY2hlY2tBbmRBZGRXaG9XaW4iLCJyZW5kZXJFbGVtZW50c0dhbWUiLCJpc0VtcHR5RmllbGQiLCJjb25zb2xlIiwibG9nIiwiYWRkV2hvR2V0RmllbGQiLCJzZXRJbWFnZVRvRmllbGRTY2VuZSIsImdldEN1cnJlbnRUdXJuIiwiY2hhbmdlUGxheWVyIiwicmVuZGVyRWxlbWVudFdob05vd1BsYXkiLCJpbmNyZWFzZVR1cm4iLCJmaXJzdEVsZW1lbnRDaGlsZCIsIm5vZGVzIiwiY2xlYXJGaWVsZCIsInJlc2V0Um91bmQiLCJzZXRSb3VuZElzRW5kIiwiQ29uZmlnTWVuYWdlciIsInBsYXllcjEiLCJwbGF5ZXIyIiwiYXNzZXRzIiwiQXJyYXkiLCJub3dSb3VuZCIsIm1heFJvdW5kIiwicmR5Q29uZmlnIiwic2V0Q29uZmlnIiwiYnVpbGRPYmplY3RQbGF5ZXIiLCJzZXRSb3VuZCIsIk9wdGlvbnNET00iLCJvcHRpb25zIiwic2VsZWN0ZWRJbmRleCIsInZhbHVlIiwibmFtZVBsYXllciIsInNldE5hbWVQbGF5ZXIiLCJzZXRJZCIsImltYWdlUGxheWVyIiwiSW1hZ2UiLCJzcmMiLCJzZXRJbWFnZSIsImltYWdlUGxheWVyMiIsIml0ZW0iLCJvYmplY3RQbGF5ZXIiLCJnZXRJZCIsImluY3JlYXNlV2luUm91bmRzIiwiUGxheWVyIiwicm91bmQiLCJpZCIsImltYWdlRE9NIiwiU2NlbmVNZW5hZ2VyIiwic2NlbmUiLCJob29rIiwiZGVsZXRlU2NlbmUiLCJwYXJlbnRFbGVtZW50IiwiY2hpbGRFbGVtZW50Iiwic2V0UmVmZXJlbmNlRWxlbWVudCIsInNldENoaWxkRWxlbWVudCIsImdldFJlZmVyZW5jZUVsZW1lbnQiLCJnZXRDaGlsZEVsZW1lbnQiLCJyZW1vdmVDaGlsZCIsInN0eWxlIiwid2lkdGgiLCJhZGRTY2VuZSIsInNldFBsYXllclRvU2NlbmUiLCJzZXRSb3VuZHNUb1NjZW5lIiwiYXNzZXQiLCJpbm5lckhUTUwiLCJnZXRJbWFnZVNyYyIsImFwcGVuZENoaWxkIiwiZ2V0TmFtZVBsYXllciIsIm51bWJlciIsImluc2VydEJlZm9yZSIsImNsYXNzTGlzdCIsImFkZCIsInBsYXllciIsIndpbm5lclBsYXllciIsIlNjZW5lIiwicmVmZXJlbmNlRWxlbWVudCIsInBhcmVudEl0ZW0iLCJjaGlsZEl0ZW0iLCJBc3NldHNNZW5hZ2VyIiwiYXNzZXRzQnVpbGRlciIsInJlcXVlc3RBc3NldHMiLCJ1cGxvYWRBc3NldHMiLCJ0aGVuIiwiYmluZCIsInJlcXVlc3RBc3NldHMxIiwicHVzaCIsIkFzc2V0c0J1aWxkZXIiLCJ1cmxMaXN0IiwiaGVhZGVycyIsIkhlYWRlcnMiLCJzZXQiLCJyZXF1ZXN0IiwiUmVxdWVzdCIsImZldGNoIiwicmVzcG9uc2UiLCJ0ZXh0IiwiR2FtZUNvbnRyb2xlciIsIndpbm5lclBsYXlyIiwiY3VycmVudFBsYXlHYW1lIiwibm93VHVybiIsImlzUm91bmRJc0VuZCIsInJvdW5kTnVtYmVyIiwiTWF0aCIsInJhbmRvbSIsImkiLCJvbkxldmVsSXNXaW4iLCJvblZlcmlydGljYWxJc1dpbiIsIm9uRGlhZ29uYWx5TGVmdElzV2luIiwib25EaWFnb25hbHlSaWdodElzV2luIiwic2V0V2hvSXNXaW5uZXIiLCJuIiwiYyIsInN0YXRlR2FtZSIsInBsYXllcjFXaW5Sb3VuZCIsInBsYXllcjJXaW5Sb3VuZCJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHVCQUFlO0FBQ2Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FB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LGlCQUFJLEtBQUt2RixPQUFMLENBQWF3QixLQUFiLE1BQXdCK0QsQ0FBNUIsRUFBOEI7QUFDMUIsc0JBQUsvQixZQUFMLEdBQW9CLEtBQUt4RCxPQUF6QjtBQUNBO0FBQ0gsY0FIRCxNQUlLLElBQUksS0FBS0MsT0FBTCxDQUFhdUIsS0FBYixNQUF3QitELENBQTVCLEVBQThCO0FBQy9CLHNCQUFLL0IsWUFBTCxHQUFvQixLQUFLdkQsT0FBekI7QUFDQTtBQUNIO0FBQ0o7OztzQ0FDVztBQUNSLG9CQUFPLEtBQUtrRixZQUFaO0FBQ0g7OzsyQ0FDZ0I7QUFDYixvQkFBTyxLQUFLM0IsWUFBWjtBQUNIOzs7dUNBQ2F1QyxTLEVBQVU7QUFDcEIsa0JBQUtaLFlBQUwsR0FBb0JZLFNBQXBCO0FBQ0g7OztzQ0FDVztBQUNSLGtCQUFLYixPQUFMLEdBQWUsQ0FBZjtBQUNIOzs7eUNBQ2VjLGUsRUFBaUJDLGUsRUFBaUI1RixRLEVBQVM7QUFDdkQsaUJBQUkyRixtQkFBbUIzRixRQUFuQixJQUErQjRGLG1CQUFtQjVGLFFBQXRELEVBQStEO0FBQzNELHdCQUFPLElBQVA7QUFDSDtBQUNELG9CQUFPLEtBQVA7QUFDSCIsImZpbGUiOiJjbGllbnQvY2xpZW50Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGZhM2EyYjhhOGVmNDVhZDJhYTRmIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbmltcG9ydCB7R2FtZX0gZnJvbSAnLi9HYW1lLmpzJztcclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uICgpIHtsb2FkR2FtZSgpO30pXHJcbmZ1bmN0aW9uIGxvYWRHYW1lKCl7XHJcbiAgdmFyIEdhbWVNZW5hZ2VyID0gbmV3IEdhbWUoKTtcclxuICBHYW1lTWVuYWdlci5pbml0KCk7XHJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXJ0QXBwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLFxyXG4gIGZ1bmN0aW9uKCl7XHJcbiAgR2FtZU1lbmFnZXIucnVuKCk7XHJcbiAgfVxyXG4gICwgJ2ZhbHNlJylcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9KUy9hcHAuanMiLCJcclxuaW1wb3J0IHtDb25maWdNZW5hZ2VyfSBmcm9tICcuL21vZHVsZXMvQ29udHJvbGVyL0NvbmZpZ01lbmFnZXIuanMnO1xyXG5pbXBvcnQge1NjZW5lTWVuYWdlcn0gIGZyb20gJy4vbW9kdWxlcy9Db250cm9sZXIvU2NlbmVNZW5hZ2VyLmpzJztcclxuaW1wb3J0IHtBc3NldHNNZW5hZ2VyfSBmcm9tICcuL21vZHVsZXMvQ29udHJvbGVyL0Fzc2V0c01lbmFnZXIuanMnO1xyXG5pbXBvcnQge0dhbWVDb250cm9sZXJ9IGZyb20gJy4vbW9kdWxlcy9Db250cm9sZXIvR2FtZUNvbnRyb2xlci5qcyc7XHJcbmV4cG9ydCBjbGFzcyBHYW1lIHtcclxuICBjb25zdHJ1Y3RvciAoKXtcclxuICAgIHRoaXMuY29uZmlnTWVuYWdlcjtcclxuICAgIHRoaXMuc2NlbmVNZW5hZ2VyO1xyXG4gICAgdGhpcy5hc3NldHNNZW5hZ2VyO1xyXG4gICAgdGhpcy5nYW1lQ29udHJvbGVyO1xyXG4gIH1cclxuICBpbml0KCl7XHJcbiAgICB0aGlzLmNvbmZpZ01lbmFnZXIgPSBuZXcgQ29uZmlnTWVuYWdlcigpO1xyXG4gICAgdGhpcy5zY2VuZU1lbmFnZXIgPSBuZXcgU2NlbmVNZW5hZ2VyKCk7XHJcbiAgICB0aGlzLmFzc2V0c01lbmFnZXIgPSBuZXcgQXNzZXRzTWVuYWdlcigpO1xyXG4gICAgdGhpcy5nYW1lQ29udHJvbGVyID0gbmV3IEdhbWVDb250cm9sZXIoKTtcclxuICAgIHRoaXMuYXNzZXRzTWVuYWdlci5ydW4oKTtcclxuICB9XHJcbiAgcnVuICgpe1xyXG4gICAgdGhpcy5jb25maWdNZW5hZ2VyLnJ1bigpO1xyXG4gICAgdGhpcy5jb25maWdNZW5hZ2VyLnNldEFzc2V0cyh0aGlzLmFzc2V0c01lbmFnZXIuZ2V0QXNzZXRzKCkpO1xyXG4gICAgdGhpcy5zY2VuZU1lbmFnZXIuYWRkSG9va1JlbW92ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmb3JtXCIpKTtcclxuICAgIHRoaXMuc2NlbmVNZW5hZ2VyLnJlbW92ZSgpO1xyXG4gICAgdGhpcy5idWlsZFZpZXcoKTtcclxuICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5zZXRQbGF5ZXJzKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldFBsYXllcjEoKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnTWVuYWdlci5nZXRQbGF5ZXIyKClcclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgdGhpcy5zY2VuZU1lbmFnZXIuc2V0V2hvVHVybihcclxuICAgICAgICAgICAgdGhpcy5nYW1lQ29udHJvbGVyLndob1BsYXlGaXJzdCgpLFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ01lbmFnZXIuZ2V0UGxheWVyMSgpLFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZ01lbmFnZXIuZ2V0UGxheWVyMigpXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgdGhpcy5hZGRFdmVudHNUb0ZpZWxkcygpO1xyXG4gICAgXHJcbiAgfVxyXG4gIGJ1aWxkVmlldygpe1xyXG4gICAgdGhpcy5zY2VuZU1lbmFnZXIuYWRkSG9vayhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSk7XHJcbiAgICB0aGlzLnNjZW5lTWVuYWdlci5hZGRHYW1lU2NlbmUoXHJcbiAgICAgIHRoaXMuY29uZmlnTWVuYWdlci5nZXRBc3NldHMoKSxcclxuICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldFBsYXllcjEoKSxcclxuICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldFBsYXllcjIoKSxcclxuICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldE5vd1JvdW5kKClcclxuICAgICk7XHJcbiAgICBcclxuXHJcbiAgfVxyXG4gIFxyXG4gIGFkZEV2ZW50c1RvRmllbGRzKCl7XHJcbiAgICAgIHZhciBub2Rlc0ZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZFwiKTtcclxuICAgICAgbm9kZXNGaWVsZHMuZm9yRWFjaChcclxuICAgICAgICAgICAgICAobm9kZSkgPT4gbm9kZS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb250cm9sZXIucm91bmRJc0VuZCgpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0VHVybihub2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb250cm9sZXIuZ2V0Tm93VHVybigpID49IDQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdhbWVDb250cm9sZXIuZ2V0Tm93VHVybigpID09IDkgJiYgIXRoaXMuZ2FtZUNvbnRyb2xlci5yb3VuZElzRW5kKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTWVuYWdlci5hZGRUb1NjZW5lVGllKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTWVuYWdlci5yZW1vdmVTY2VuZVdob1dpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlBZ2Fpbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIwMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2FtZUNvbnRyb2xlci5pc1dpbm5lcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIikpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZU1lbmFnZXIuYWRkVG9TY2VuZVdob1dpbihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdhbWVDb250cm9sZXIuZ2V0V2lubmVyUGxheWVyKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldEFzc2V0cygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmluY3JlYXNlV2luU3RyZWFrKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5nZXRXaW5uZXJQbGF5ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnTWVuYWdlci5pbmNyZWFzZVJvdW5kcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5nYW1lQ29udHJvbGVyLndlR2V0V2lubmVyR2FtZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldFBsYXllcjEoKS5nZXRXaW5Sb3VuZCgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ01lbmFnZXIuZ2V0UGxheWVyMigpLmdldFdpblJvdW5kKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnTWVuYWdlci5nZXRNYXhSb3VuZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja0FuZEFkZFdob1dpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTWVuYWdlci5yZW5kZXJFbGVtZW50c0dhbWUoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nYW1lQ29udHJvbGVyLmdldFdpbm5lclBsYXllcigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnTWVuYWdlci5nZXRQbGF5ZXIxKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWdNZW5hZ2VyLmdldFBsYXllcjIoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZ01lbmFnZXIuZ2V0Tm93Um91bmQoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTWVuYWdlci5yZW1vdmVTY2VuZVdob1dpbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsYXlBZ2Fpbihkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwidGRcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIwMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgc3RhcnRUdXJuKG5vZGUpe1xyXG4gICAgICBpZiAoIXRoaXMuaXNFbXB0eUZpZWxkKG5vZGUpKXtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdPSycpO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5hZGRXaG9HZXRGaWVsZChub2RlKTtcclxuICAgICAgdGhpcy5zY2VuZU1lbmFnZXIuYWRkSG9vayhub2RlKTtcclxuICAgICAgdGhpcy5zY2VuZU1lbmFnZXIuc2V0SW1hZ2VUb0ZpZWxkU2NlbmUoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmdhbWVDb250cm9sZXIuZ2V0Q3VycmVudFR1cm4oKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5jaGFuZ2VQbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLnNjZW5lTWVuYWdlci5hZGRIb29rKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2hvVHVyblwiKSk7XHJcbiAgICAgICAgdGhpcy5zY2VuZU1lbmFnZXIucmVuZGVyRWxlbWVudFdob05vd1BsYXkoXHJcbiAgICAgICAgICAgICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5nZXRDdXJyZW50VHVybigpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5pbmNyZWFzZVR1cm4oKTtcclxuICB9XHJcbiAgXHJcbiAgaXNFbXB0eUZpZWxkKG5vZGUpe1xyXG4gICAgIGlmIChub2RlLmZpcnN0RWxlbWVudENoaWxkID09IG51bGwpIHJldHVybiB0cnVlOyBlbHNlIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgcGxheUFnYWluKG5vZGVzKXtcclxuICAgICB0aGlzLnNjZW5lTWVuYWdlci5jbGVhckZpZWxkKG5vZGVzKTtcclxuICAgICB0aGlzLmdhbWVDb250cm9sZXIucmVzZXRSb3VuZCgpO1xyXG4gICAgIHRoaXMuZ2FtZUNvbnRyb2xlci5zZXRSb3VuZElzRW5kKGZhbHNlKTtcclxuICB9XHJcbiBjaGVja0FuZEFkZFdob1dpbigpe1xyXG4gICAgIGNvbnNvbGUubG9nKFwiVSBoZXJlP1wiKTtcclxuICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbmZpZ01lbmFnZXIuZ2V0UGxheWVyMSgpLmdldFdpblJvdW5kKCkpO1xyXG4gICAgIGNvbnNvbGUubG9nKHRoaXMuY29uZmlnTWVuYWdlci5nZXRNYXhSb3VuZCgpKTtcclxuICAgICBpZiAodGhpcy5jb25maWdNZW5hZ2VyLmdldFBsYXllcjEoKS5nZXRXaW5Sb3VuZCgpID09IHRoaXMuY29uZmlnTWVuYWdlci5nZXRNYXhSb3VuZCgpKXtcclxuICAgICAgICAgdGhpcy5zY2VuZU1lbmFnZXIuYWRkSG9va1JlbW92ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxHYW1lXCIpKTtcclxuICAgICAgICAgdGhpcy5zY2VuZU1lbmFnZXIucmVtb3ZlKCk7XHJcbiAgICAgfVxyXG4gICAgIGVsc2UgaWYgKHRoaXMuY29uZmlnTWVuYWdlci5nZXRQbGF5ZXIyKCkuZ2V0V2luUm91bmQoKSA9PSB0aGlzLmNvbmZpZ01lbmFnZXIuZ2V0TWF4Um91bmQoKSl7XHJcbiAgICAgICAgIHRoaXMuc2NlbmVNZW5hZ2VyLmFkZEhvb2tSZW1vdmUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIiksIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxsR2FtZVwiKSk7XHJcbiAgICAgICAgIHRoaXMuc2NlbmVNZW5hZ2VyLnJlbW92ZSgpO1xyXG4gICAgIH1cclxuIH1cclxuXHJcbiAgICBcclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vSlMvR2FtZS5qcyIsImltcG9ydCB7UGxheWVyfSBmcm9tICcuLi9Nb2RlbC9QbGF5ZXIuanMnO1xyXG5leHBvcnQgY2xhc3MgQ29uZmlnTWVuYWdlciB7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCl7XHJcbiAgICB0aGlzLnBsYXllcjE7XHJcbiAgICB0aGlzLnBsYXllcjI7XHJcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBBcnJheSgpO1xyXG4gICAgdGhpcy5ub3dSb3VuZDtcclxuICAgIHRoaXMubWF4Um91bmQ7XHJcbiAgICB0aGlzLnJkeUNvbmZpZyA9IGZhbHNlO1xyXG4gIH1cclxuICBydW4oKXtcclxuICAgIHRoaXMuc2V0Q29uZmlnKCk7XHJcbiAgICB0aGlzLmJ1aWxkT2JqZWN0UGxheWVyKCk7XHJcbiAgICB0aGlzLnJkeUNvbmZpZyA9IHRydWU7XHJcbiAgICB0aGlzLm5vd1JvdW5kID0gMTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMubm93Um91bmQpO1xyXG4gICAgY29uc29sZS5sb2codGhpcy5wbGF5ZXIxKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMucGxheWVyMik7XHJcbiAgfVxyXG5cclxuICBzZXRDb25maWcoKXtcclxuICAgIHRoaXMuc2V0Um91bmQoKTtcclxuICB9XHJcbiAgc2V0Um91bmQoKXtcclxuICAgIHZhciBPcHRpb25zRE9NID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdW5kT3B0aW9ucycpO1xyXG4gICAgdGhpcy5tYXhSb3VuZCA9IE9wdGlvbnNET00ub3B0aW9uc1tPcHRpb25zRE9NLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xyXG4gIH1cclxuICBnZXROb3dSb3VuZCgpe1xyXG4gICAgcmV0dXJuIHRoaXMubm93Um91bmQ7XHJcbiAgfVxyXG4gIFxyXG4gIGdldE1heFJvdW5kICgpe1xyXG4gICAgICByZXR1cm4gdGhpcy5tYXhSb3VuZDtcclxuICB9XHJcbiAgYnVpbGRPYmplY3RQbGF5ZXIoKXtcclxuICAgIHRoaXMucGxheWVyMSA9IG5ldyBQbGF5ZXIoKTtcclxuICAgIGxldCBuYW1lUGxheWVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcjEnKS52YWx1ZTtcclxuICAgIHRoaXMucGxheWVyMS5zZXROYW1lUGxheWVyKG5hbWVQbGF5ZXIpO1xyXG4gICAgdGhpcy5wbGF5ZXIxLnNldElkKDApO1xyXG4gICAgdGhpcy5wbGF5ZXIyID0gbmV3IFBsYXllcigpO1xyXG4gICAgbmFtZVBsYXllciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXIyJykudmFsdWU7XHJcbiAgICB0aGlzLnBsYXllcjIuc2V0TmFtZVBsYXllcihuYW1lUGxheWVyKTtcclxuICAgIHRoaXMucGxheWVyMi5zZXRJZCgxKTtcclxuICAgIGxldCBpbWFnZVBsYXllciA9IG5ldyBJbWFnZSgpO1xyXG4gICAgaW1hZ2VQbGF5ZXIuc3JjID0gJy4vSlMvbW9kdWxlcy9Nb2RlbC9Bc3Nlc3RzL3RhYy5wbmcnO1xyXG4gICAgdGhpcy5wbGF5ZXIxLnNldEltYWdlKGltYWdlUGxheWVyKTtcclxuICAgIGxldCBpbWFnZVBsYXllcjIgPSBuZXcgSW1hZ2UoKTtcclxuICAgIGltYWdlUGxheWVyMi5zcmMgPSAnLi9KUy9tb2R1bGVzL01vZGVsL0Fzc2VzdHMvdGljLnBuZyc7XHJcbiAgICB0aGlzLnBsYXllcjIuc2V0SW1hZ2UoaW1hZ2VQbGF5ZXIyKTtcclxuICAgIHRoaXMucGxheWVyMS5zZXRSb3VuZCgwKTtcclxuICAgIHRoaXMucGxheWVyMi5zZXRSb3VuZCgwKTtcclxuICB9XHJcbiAgc2V0QXNzZXRzKGl0ZW0pe1xyXG4gICAgdGhpcy5hc3NldHMgPSBpdGVtO1xyXG4gIH1cclxuICBnZXRBc3NldHMoKXtcclxuICAgIHJldHVybiB0aGlzLmFzc2V0cztcclxuICB9XHJcbiAgZ2V0UGxheWVyMSgpe1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyMTtcclxuICB9XHJcbiAgZ2V0UGxheWVyMigpe1xyXG4gICAgcmV0dXJuIHRoaXMucGxheWVyMjtcclxuICB9XHJcbiAgaW5jcmVhc2VXaW5TdHJlYWsob2JqZWN0UGxheWVyKXtcclxuICAgICBpZiAob2JqZWN0UGxheWVyLmdldElkKCk9PTApe1xyXG4gICAgICAgICB0aGlzLnBsYXllcjEuaW5jcmVhc2VXaW5Sb3VuZHMoKTtcclxuICAgICB9XHJcbiAgICAgZWxzZXtcclxuICAgICAgICAgdGhpcy5wbGF5ZXIyLmluY3JlYXNlV2luUm91bmRzKCk7XHJcbiAgICAgfVxyXG4gIH1cclxuICBpbmNyZWFzZVJvdW5kcygpe1xyXG4gICAgICB0aGlzLm5vd1JvdW5kKys7XHJcbiAgfVxyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9KUy9tb2R1bGVzL0NvbnRyb2xlci9Db25maWdNZW5hZ2VyLmpzIiwiZXhwb3J0IGNsYXNzIFBsYXllcntcclxuICBjb250cnVjdG9yKCl7XHJcbiAgICB0aGlzLnJvdW5kO1xyXG4gICAgdGhpcy5JbWFnZTtcclxuICAgIHRoaXMubmFtZVBsYXllcjtcclxuICAgIHRoaXMuaWQ7XHJcbiAgfVxyXG4gIHNldE5hbWVQbGF5ZXIobmFtZVBsYXllcil7XHJcbiAgICB0aGlzLm5hbWVQbGF5ZXIgPSBuYW1lUGxheWVyO1xyXG4gIH1cclxuICBnZXROYW1lUGxheWVyKCl7XHJcbiAgICByZXR1cm4gdGhpcy5uYW1lUGxheWVyO1xyXG4gIH1cclxuICBzZXRJbWFnZShpbWFnZURPTSl7XHJcbiAgICB0aGlzLkltYWdlID0gaW1hZ2VET007XHJcbiAgfVxyXG4gIGdldEltYWdlU3JjKCl7XHJcbiAgICByZXR1cm4gdGhpcy5JbWFnZS5zcmM7XHJcbiAgfVxyXG4gIHNldFJvdW5kKHJvdW5kKXtcclxuICAgIHRoaXMucm91bmQgPSByb3VuZDtcclxuICB9XHJcbiAgZ2V0V2luUm91bmQoKXtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMucm91bmQpO1xyXG4gICAgcmV0dXJuIHRoaXMucm91bmQ7XHJcbiAgfVxyXG4gIHNldElkKGlkKXtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICB9XHJcbiAgZ2V0SWQoKXtcclxuICAgIHJldHVybiB0aGlzLmlkO1xyXG4gIH1cclxuICBpbmNyZWFzZVdpblJvdW5kcygpe1xyXG4gICAgdGhpcy5yb3VuZCsrO1xyXG4gIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9KUy9tb2R1bGVzL01vZGVsL1BsYXllci5qcyIsImltcG9ydCB7U2NlbmV9IGZyb20gJy4uL01vZGVsL1NjZW5lLmpzJztcclxuZXhwb3J0IGNsYXNzIFNjZW5lTWVuYWdlcntcclxuICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBTY2VuZSgpO1xyXG4gICAgdGhpcy5ob29rO1xyXG4gIH1cclxuICAgIHJlbW92ZSAoKXtcclxuICAgICAgdGhpcy5kZWxldGVTY2VuZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEhvb2soaG9vayl7XHJcbiAgICAgIHRoaXMuaG9vayA9IGhvb2s7XHJcbiAgICB9XHJcbiAgICBhZGRIb29rUmVtb3ZlKHBhcmVudEVsZW1lbnQsIGNoaWxkRWxlbWVudCl7XHJcbiAgICAgIHRoaXMuc2NlbmUuc2V0UmVmZXJlbmNlRWxlbWVudChwYXJlbnRFbGVtZW50KTtcclxuICAgICAgdGhpcy5zY2VuZS5zZXRDaGlsZEVsZW1lbnQoY2hpbGRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIGRlbGV0ZVNjZW5lKCl7XHJcbiAgICBsZXQgcGFyZW50RWxlbWVudCA9IHRoaXMuc2NlbmUuZ2V0UmVmZXJlbmNlRWxlbWVudCgpO1xyXG4gICAgbGV0IGNoaWxkRWxlbWVudCA9IHRoaXMuc2NlbmUuZ2V0Q2hpbGRFbGVtZW50KCk7XHJcbiAgICBjb25zb2xlLmxvZyhjaGlsZEVsZW1lbnQpO1xyXG4gICAgcGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgYWRkR2FtZVNjZW5lKGFzc2V0cyxwbGF5ZXIxLHBsYXllcjIscm91bmQpe1xyXG4gICAgICBjb25zb2xlLmxvZygnWW91ciBJRD8nICsgcGxheWVyMi5nZXRJZCgpKVxyXG4gICAgICB0aGlzLmhvb2suc3R5bGUud2lkdGg9XCIxMDAlXCI7XHJcbiAgICAgIHRoaXMuYWRkU2NlbmUoYXNzZXRzWzBdKTtcclxuICAgICAgdGhpcy5zZXRQbGF5ZXJUb1NjZW5lKHBsYXllcjEpO1xyXG4gICAgICB0aGlzLnNldFBsYXllclRvU2NlbmUocGxheWVyMik7XHJcbiAgICAgIHRoaXMuc2V0Um91bmRzVG9TY2VuZShyb3VuZCk7XHJcblxyXG4gICAgfVxyXG4gICAgYWRkU2NlbmUoYXNzZXQpe1xyXG4gICAgICBjb25zb2xlLmxvZyhhc3NldCk7XHJcbiAgICAgIHRoaXMuaG9vay5pbm5lckhUTUwgPSB0aGlzLmhvb2suaW5uZXJIVE1MICsgYXNzZXQ7XHJcbiAgICB9XHJcbiAgICBzZXRQbGF5ZXJUb1NjZW5lKG9iamVjdFBsYXllcil7XHJcbiAgICAgIGNvbnNvbGUubG9nKG9iamVjdFBsYXllci5nZXRJZCgpKTtcclxuICAgICAgaWYgKG9iamVjdFBsYXllci5nZXRJZCgpID09IDApe1xyXG4gICAgICAgICAgdmFyIGltYWdlUGxheWVyID0gbmV3IEltYWdlKDEwMCwxMDApO1xyXG4gICAgICAgICAgaW1hZ2VQbGF5ZXIuc3JjPSBvYmplY3RQbGF5ZXIuZ2V0SW1hZ2VTcmMoKTtcclxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZVBsYXllcicpLmFwcGVuZENoaWxkKGltYWdlUGxheWVyKTtcclxuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwbGF5ZXIxJykuaW5uZXJIVE1MID1cIjxwIGNsYXNzPSdpbmZvVGV4dFBsYXllcic+UGxheWVyIDE8L3A+XCIgKyBvYmplY3RQbGF5ZXIuZ2V0TmFtZVBsYXllcigpO1xyXG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpblJvdW5kcycpLmlubmVySFRNTCA9IFwiPHAgY2xhc3M9J2luZm9XaW5Sb3VuZHMnPldpbiBSb3VuZDxicj48YnI+PC9wPlwiICsgb2JqZWN0UGxheWVyLmdldFdpblJvdW5kKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChvYmplY3RQbGF5ZXIuZ2V0SWQoKSA9PSAxKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1JVTj8nKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhvYmplY3RQbGF5ZXIpO1xyXG4gICAgICAgIHZhciBpbWFnZVBsYXllciA9IG5ldyBJbWFnZSgxMDAsMTAwKTtcclxuICAgICAgICBpbWFnZVBsYXllci5zcmM9IG9iamVjdFBsYXllci5nZXRJbWFnZVNyYygpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbWFnZVBsYXllcjInKS5hcHBlbmRDaGlsZChpbWFnZVBsYXllcik7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllcjInKS5pbm5lckhUTUwgPVwiPHAgY2xhc3M9J2luZm9UZXh0UGxheWVyJz5QbGF5ZXIgMjwvcD5cIiArIG9iamVjdFBsYXllci5nZXROYW1lUGxheWVyKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dpblJvdW5kczInKS5pbm5lckhUTUwgPSBcIjxwIGNsYXNzPSdpbmZvV2luUm91bmRzJz5XaW4gUm91bmQ8YnI+PGJyPjwvcD5cIiArIG9iamVjdFBsYXllci5nZXRXaW5Sb3VuZCgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBzZXRSb3VuZHNUb1NjZW5lKHJvdW5kKXtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JvdW5kTm93JykuaW5uZXJIVE1MID1cIjxwIGNsYXNzPSdpbmZvVGV4dFBsYXllcic+Um91bmQ8L3A+XCIgKyByb3VuZDtcclxuICAgIH1cclxuICAgIHNldFdob1R1cm4obnVtYmVyLHBsYXllcjEscGxheWVyMil7XHJcbiAgICAgICAgdmFyIGltYWdlUGxheWVyID0gbmV3IEltYWdlKDEwMCwxMDApO1xyXG4gICAgICAgIGlmIChudW1iZXIgPT0gMCl7XHJcbiAgICAgICAgICAgIGltYWdlUGxheWVyLnNyYyA9IHBsYXllcjEuZ2V0SW1hZ2VTcmMoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dob1R1cm4nKS5pbm5lckhUTUwgPSBcIjxwIGlkPSd3aG9UdXJuTmFtZVBsYXllcicgY2xhc3MgPSdpbmZvVGV4dFBsYXllcic+Tm93IFR1cm48L3A+XCIgKyBwbGF5ZXIxLmdldE5hbWVQbGF5ZXIoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dob1R1cm4nKS5pbnNlcnRCZWZvcmUoaW1hZ2VQbGF5ZXIsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dob1R1cm5OYW1lUGxheWVyJykgKVxyXG4gICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBpbWFnZVBsYXllci5zcmMgPSBwbGF5ZXIyLmdldEltYWdlU3JjKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aG9UdXJuJykuaW5uZXJIVE1MID0gXCI8cCBpZD0nd2hvVHVybk5hbWVQbGF5ZXInIGNsYXNzID0naW5mb1RleHRQbGF5ZXInPk5vdyBUdXJuPC9wPlwiICsgcGxheWVyMi5nZXROYW1lUGxheWVyKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aG9UdXJuJykuaW5zZXJ0QmVmb3JlKGltYWdlUGxheWVyLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3aG9UdXJuTmFtZVBsYXllcicpIClcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRJbWFnZVRvRmllbGRTY2VuZShvYmplY3RQbGF5ZXIpe1xyXG4gICAgICAgIGltYWdlUGxheWVyID0gbmV3IEltYWdlKDE1MCwxNTApO1xyXG4gICAgICAgIGltYWdlUGxheWVyLnNyYyA9IG9iamVjdFBsYXllci5nZXRJbWFnZVNyYygpO1xyXG4gICAgICAgIGltYWdlUGxheWVyLmNsYXNzTGlzdC5hZGQoXCJmaWVsZEltYWdlXCIpO1xyXG4gICAgICAgIHRoaXMuaG9vay5hcHBlbmRDaGlsZChpbWFnZVBsYXllcik7XHJcbiAgICB9XHJcbiAgIFxyXG4gICByZW5kZXJFbGVtZW50V2hvTm93UGxheShvYmplY3RQbGF5ZXIpe1xyXG4gICAgICAgdGhpcy5ob29rLmlubmVySFRNTCA9IFwiPHAgaWQ9J3dob1R1cm5OYW1lUGxheWVyJyBjbGFzcyA9J2luZm9UZXh0UGxheWVyJz5Ob3cgVHVybjwvcD5cIiArIG9iamVjdFBsYXllci5nZXROYW1lUGxheWVyKCk7XHJcbiAgICAgICB2YXIgaW1hZ2VQbGF5ZXIgPSBuZXcgSW1hZ2UoMTAwLDEwMCk7XHJcbiAgICAgICBpbWFnZVBsYXllci5zcmMgPSBvYmplY3RQbGF5ZXIuZ2V0SW1hZ2VTcmMoKTtcclxuICAgICAgIHRoaXMuaG9vay5pbnNlcnRCZWZvcmUoaW1hZ2VQbGF5ZXIsZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dob1R1cm5OYW1lUGxheWVyJykgKVxyXG5cclxuICAgfVxyXG4gICBhZGRUb1NjZW5lV2hvV2luKHBsYXllcil7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmFtZScpLmNsYXNzTGlzdC5hZGQoXCJmcmFtZVdpblwiKTtcclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZyYW1lJykuaW5uZXJIVE1MID0gXCJXaW5uZXIgIDxicj48YnI+XCIgKyBwbGF5ZXIuZ2V0TmFtZVBsYXllcigpO1xyXG4gICB9XHJcbiAgIHJlbW92ZVNjZW5lV2hvV2luKCl7XHJcbiAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJhbWUnKS5jbGFzc0xpc3QucmVtb3ZlKFwiZnJhbWVXaW5cIik7XHJcbiAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZyYW1lXCIpLmlubmVySFRNTCA9XCJcIjtcclxuICAgfVxyXG4gICByZW5kZXJFbGVtZW50c0dhbWUod2lubmVyUGxheWVyLCBwbGF5ZXIxLCBwbGF5ZXIyLHJvdW5kKXtcclxuICAgICAgIGlmICh3aW5uZXJQbGF5ZXIuZ2V0SWQoKSA9PSBwbGF5ZXIxLmdldElkKCkpe1xyXG4gICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid2luUm91bmRzXCIpLmlubmVySFRNTD1cIjxwIGNsYXNzPSdpbmZvV2luUm91bmRzJz5XaW4gUm91bmQ8YnI+PGJyPjwvcD5cIiArIHdpbm5lclBsYXllci5nZXRXaW5Sb3VuZCgpO1xyXG4gICAgICAgfVxyXG4gICAgICAgZWxzZXtcclxuICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndpblJvdW5kczJcIikuaW5uZXJIVE1MID0gXCI8cCBjbGFzcz0naW5mb1dpblJvdW5kcyc+V2luIFJvdW5kPGJyPjxicj48L3A+XCIgKyB3aW5uZXJQbGF5ZXIuZ2V0V2luUm91bmQoKTtcclxuICAgICAgIH1cclxuICAgICAgIHRoaXMuc2V0Um91bmRzVG9TY2VuZShyb3VuZCk7XHJcbiAgIH1cclxuICAgYWRkVG9TY2VuZVRpZSgpe1xyXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZnJhbWUnKS5jbGFzc0xpc3QuYWRkKFwiZnJhbWVXaW5cIik7XHJcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmFtZScpLmlubmVySFRNTCA9IFwidGllXCI7XHJcbiAgIH1cclxuICAgY2xlYXJGaWVsZChub2Rlcyl7XHJcbiAgICAgbm9kZXMuZm9yRWFjaChcclxuICAgICAgICAgICAgIChub2RlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLmZpcnN0RWxlbWVudENoaWxkICAhPSBudWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaWQgPVwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNldFJlZmVyZW5jZUVsZW1lbnQobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnNldENoaWxkRWxlbWVudChub2RlLmZpcnN0RWxlbWVudENoaWxkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlU2NlbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9KUy9tb2R1bGVzL0NvbnRyb2xlci9TY2VuZU1lbmFnZXIuanMiLCJleHBvcnQgY2xhc3MgU2NlbmUge1xyXG4gIGNvbnN0cnVjdG9yKCl7XHJcbiAgICB0aGlzLnJlZmVyZW5jZUVsZW1lbnQ7XHJcbiAgICB0aGlzLmNoaWxkRWxlbWVudDtcclxuICB9XHJcbiAgc2V0UmVmZXJlbmNlRWxlbWVudChwYXJlbnRJdGVtKXtcclxuICAgIHRoaXMucmVmZXJlbmNlRWxlbWVudCA9IHBhcmVudEl0ZW07XHJcbiAgfVxyXG4gIGdldFJlZmVyZW5jZUVsZW1lbnQoKXtcclxuICAgIHJldHVybiB0aGlzLnJlZmVyZW5jZUVsZW1lbnQ7XHJcbiAgfVxyXG4gIHNldENoaWxkRWxlbWVudCAoY2hpbGRJdGVtKXtcclxuICAgIHRoaXMuY2hpbGRFbGVtZW50ID0gY2hpbGRJdGVtO1xyXG4gIH1cclxuICBnZXRDaGlsZEVsZW1lbnQoKVxyXG4gICAge1xyXG4gICAgcmV0dXJuIHRoaXMuY2hpbGRFbGVtZW50O1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL0pTL21vZHVsZXMvTW9kZWwvU2NlbmUuanMiLCJpbXBvcnQge0Fzc2V0c0J1aWxkZXJ9IGZyb20gJy4vQXNzZXRzQnVpbGRlci5qcydcclxuZXhwb3J0IGNsYXNzIEFzc2V0c01lbmFnZXJ7XHJcbiAgY29uc3RydWN0b3IoKXtcclxuICAgIHRoaXMuYXNzZXRzQnVpbGRlciA9IG5ldyBBc3NldHNCdWlsZGVyKCk7XHJcbiAgICB0aGlzLmFzc2V0cyA9IG5ldyBBcnJheSgpO1xyXG4gIH1cclxuICBydW4gKCl7XHJcblxyXG4gICAgdmFyIHJlcXVlc3RBc3NldHMgPSB0aGlzLmFzc2V0c0J1aWxkZXIudXBsb2FkQXNzZXRzKDApO1xyXG4gICAgcmVxdWVzdEFzc2V0cy50aGVuKGZ1bmN0aW9uKGFzc2V0cyl7XHJcbiAgICAgIHRoaXMuc2V0QXNzZXRzKGFzc2V0cyk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgdmFyIHJlcXVlc3RBc3NldHMxID0gdGhpcy5hc3NldHNCdWlsZGVyLnVwbG9hZEFzc2V0cygxKTtcclxuICAgIHJlcXVlc3RBc3NldHMxLnRoZW4oZnVuY3Rpb24oYXNzZXRzKXtcclxuICAgICAgdGhpcy5zZXRBc3NldHMoYXNzZXRzKTtcclxuICAgIH0uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgXHJcblxyXG5cclxuICB9XHJcbiAgZ2V0QXNzZXRzKCl7XHJcbiAgICByZXR1cm4gdGhpcy5hc3NldHM7XHJcbiAgfVxyXG4gIHNldEFzc2V0cyhpdGVtKXtcclxuICAgIHRoaXMuYXNzZXRzLnB1c2goaXRlbSk7XHJcbiAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL0pTL21vZHVsZXMvQ29udHJvbGVyL0Fzc2V0c01lbmFnZXIuanMiLCJleHBvcnQgY2xhc3MgQXNzZXRzQnVpbGRlcntcclxuICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgdGhpcy51cmxMaXN0ID0gW1xyXG4gICAgICAnSlMvbW9kdWxlcy9Nb2RlbC9Bc3Nlc3RzL2Fzc2V0c19nYW1lLnBocCcsXHJcbiAgICAgICdKUy9tb2R1bGVzL01vZGVsL0Fzc2VzdHMvYXNzZXRzX2NvbmdyYXR1bGF0aW9uV2lubmVyLnBocCdcclxuICAgIF07XHJcbiAgfVxyXG5cclxuXHJcbiAgdXBsb2FkQXNzZXRzKG51bWJlcil7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xyXG4gICAgICAgIGhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sJyk7XHJcbiAgICAgICAgaGVhZGVycy5zZXQoJ01ldGhvZCcsJ0dFVCcpO1xyXG4gICAgICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodGhpcy51cmxMaXN0W251bWJlcl0sIGhlYWRlcnMpO1xyXG4gICAgICByZXR1cm4gZmV0Y2gocmVxdWVzdCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xyXG4gICAgICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uKHRleHQpe1xyXG4gICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcblxyXG4gIH1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vSlMvbW9kdWxlcy9Db250cm9sZXIvQXNzZXRzQnVpbGRlci5qcyIsImV4cG9ydCBjbGFzcyBHYW1lQ29udHJvbGVye1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMucGxheWVyMTtcbiAgICAgICAgdGhpcy5wbGF5ZXIyO1xuICAgICAgICB0aGlzLndpbm5lclBsYXlyO1xuICAgICAgICB0aGlzLmN1cnJlbnRQbGF5R2FtZTtcbiAgICAgICAgdGhpcy5ub3dUdXJuID0gMDtcbiAgICAgICAgdGhpcy5pc1JvdW5kSXNFbmQgPSBmYWxzZTtcbiAgICAgICAgXG4gICAgfVxuICAgIFxuICAgIHNldFBsYXllcnMocGxheWVyMSwgcGxheWVyMil7XG4gICAgICAgIHRoaXMucGxheWVyMSA9IHBsYXllcjE7XG4gICAgICAgIHRoaXMucGxheWVyMiA9IHBsYXllcjI7XG4gICAgfVxuICAgIFxuICAgIHdob1BsYXlGaXJzdCgpe1xuICAgICAgIHZhciByb3VuZE51bWJlciA9ICBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkqMSk7XG4gICAgICAgaWYgKHJvdW5kTnVtYmVyID09IDAgKXtcbiAgICAgICAgICAgdGhpcy5jdXJyZW50UGxheUdhbWUgPSB0aGlzLnBsYXllcjE7XG4gICAgICAgICAgIHJldHVybiByb3VuZE51bWJlcjtcbiAgICAgICB9XG4gICAgICAgZWxzZSB7XG4gICAgICAgICAgIHRoaXMuY3VycmVudFBsYXlHYW1lID0gdGhpcy5wbGF5ZXIyO1xuICAgICAgICAgICByZXR1cm4gcm91bmROdW1iZXI7XG4gICAgICAgfVxuICAgIH1cbiAgICBjaGFuZ2VQbGF5ZXIoKXtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBsYXlHYW1lLmdldElkKCkgPT0gMCl7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQbGF5R2FtZSA9IHRoaXMucGxheWVyMjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmN1cnJlbnRQbGF5R2FtZS5nZXRJZCgpID09IDEpe1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGxheUdhbWUgPSAgdGhpcy5wbGF5ZXIxO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIGFkZFdob0dldEZpZWxkKG5vZGUpe1xuICAgICAgIG5vZGUuaWQgPSB0aGlzLmN1cnJlbnRQbGF5R2FtZS5nZXRJZCgpO1xuICAgIH1cbiAgICBcbiAgICBnZXRDdXJyZW50VHVybigpe1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGxheUdhbWU7XG4gICAgfVxuICAgIGluY3JlYXNlVHVybigpe1xuICAgICAgICB0aGlzLm5vd1R1cm4rKztcbiAgICB9XG4gICAgZ2V0Tm93VHVybigpe1xuICAgICAgIHJldHVybiB0aGlzLm5vd1R1cm47XG4gICAgfVxuICAgIGlzV2lubmVyKG5vZGVzKXtcbiAgICAgICAgZm9yICh2YXIgaSA9MDsgaSA8PSAxOyBpKyspe1xuICAgICAgICAgXG4gICAgICAgICAgIGlmKHRoaXMub25MZXZlbElzV2luKGksbm9kZXMpXG4gICAgICAgICAgICAgfHwgdGhpcy5vblZlcmlydGljYWxJc1dpbihpLG5vZGVzKVxuICAgICAgICAgICAgIHx8IHRoaXMub25EaWFnb25hbHlMZWZ0SXNXaW4oaSxub2RlcylcbiAgICAgICAgICAgICB8fCB0aGlzLm9uRGlhZ29uYWx5UmlnaHRJc1dpbihpLG5vZGVzKSl7XG4gICAgICAgICAgICAgdGhpcy5zZXRXaG9Jc1dpbm5lcihpKTtcbiAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLndpbm5lclBsYXllcik7XG4gICAgICAgICAgICAgdGhpcy5pc1JvdW5kSXNFbmQgPSB0cnVlO1xuICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG9uTGV2ZWxJc1dpbihpLG5vZGVzKXtcbiAgICAgICAgdmFyIG49MDtcbiAgICAgICAgZm9yICh2YXIgYz0wOyBjIDw9IDI7IGMrKyl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm93IFwiICsgbilcbiAgICAgICAgICAgIGlmIChub2Rlc1tuXS5pZCA9PSBpXG4gICAgICAgICAgICAgICAgICAgICYmIG5vZGVzW24rMV0uaWQgPT0gaVxuICAgICAgICAgICAgICAgICAgICAmJiBub2Rlc1tuKzJdLmlkID09IGlcbiAgICAgICAgICAgICAgICAgICAgJiYgbm9kZXNbbl0uaWQgIT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAmJiBub2Rlc1tuKzFdLmlkICE9IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgbm9kZXNbbisyXS5pZCAhPSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgbiA9IG4gKyAzO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVmVyaXJ0aWNhbElzV2luKGksbm9kZXMpe1xuICAgICAgICB2YXIgbj0wO1xuICAgICAgICAgICAgZm9yICh2YXIgYz0wOyBjIDw9MjsgYysrKXtcbiAgICAgICAgICAgIGlmIChub2Rlc1tuXS5pZCA9PSBpXG4gICAgICAgICAgICAgICAgICAgICYmIG5vZGVzW24rM10uaWQgPT0gaVxuICAgICAgICAgICAgICAgICAgICAmJiBub2Rlc1tuKzZdLmlkID09IGlcbiAgICAgICAgICAgICAgICAgICAgJiYgbm9kZXNbbl0uaWQgIT0gXCJcIlxuICAgICAgICAgICAgICAgICAgICAmJiBub2Rlc1tuKzNdLmlkICE9IFwiXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgbm9kZXNbbis2XS5pZCAhPSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG4rKztcbiAgICAgICAgfVxuICAgIH1cbiAgICBvbkRpYWdvbmFseUxlZnRJc1dpbihpLG5vZGVzKXtcbiAgICAgICAgaWYgKCAgICBub2Rlc1swXS5pZCA9PSBpXG4gICAgICAgICAgICAgICAgJiYgbm9kZXNbNF0uaWQgPT0gaVxuICAgICAgICAgICAgICAgICYmIG5vZGVzWzhdLmlkID09IGlcbiAgICAgICAgICAgICAgICAmJiBub2Rlc1swXS5pZCAhPSBcIlwiXG4gICAgICAgICAgICAgICAgJiYgbm9kZXNbNF0uaWQgIT0gXCJcIlxuICAgICAgICAgICAgICAgICYmIG5vZGVzWzhdLmlkICE9IFwiXCJcbiAgICAgICAgICAgICAgICApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICB9XG4gICAgb25EaWFnb25hbHlSaWdodElzV2luKGksbm9kZXMpe1xuICAgICAgICAgICAgICAgIGlmIChub2Rlc1syXS5pZCA9PSBpXG4gICAgICAgICAgICAgICAgJiYgbm9kZXNbNF0uaWQgPT0gaVxuICAgICAgICAgICAgICAgICYmIG5vZGVzWzZdLmlkID09IGlcbiAgICAgICAgICAgICAgICAmJiBub2Rlc1syXS5pZCAhPSBcIlwiXG4gICAgICAgICAgICAgICAgJiYgbm9kZXNbNF0uaWQgIT0gXCJcIlxuICAgICAgICAgICAgICAgICYmIG5vZGVzWzZdLmlkICE9IFwiXCJcbiAgICAgICAgICAgICAgICApe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICB9XG4gICAgc2V0V2hvSXNXaW5uZXIoaSl7XG4gICAgICAgIGlmICh0aGlzLnBsYXllcjEuZ2V0SWQoKSA9PSBpKXtcbiAgICAgICAgICAgIHRoaXMud2lubmVyUGxheWVyID0gdGhpcy5wbGF5ZXIxO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGxheWVyMi5nZXRJZCgpID09IGkpe1xuICAgICAgICAgICAgdGhpcy53aW5uZXJQbGF5ZXIgPSB0aGlzLnBsYXllcjI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgcm91bmRJc0VuZCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5pc1JvdW5kSXNFbmQ7XG4gICAgfVxuICAgIGdldFdpbm5lclBsYXllcigpe1xuICAgICAgICByZXR1cm4gdGhpcy53aW5uZXJQbGF5ZXI7XG4gICAgfVxuICAgIHNldFJvdW5kSXNFbmQoc3RhdGVHYW1lKXtcbiAgICAgICAgdGhpcy5pc1JvdW5kSXNFbmQgPSBzdGF0ZUdhbWU7XG4gICAgfVxuICAgIHJlc2V0Um91bmQoKXtcbiAgICAgICAgdGhpcy5ub3dUdXJuID0gMDtcbiAgICB9XG4gICAgd2VHZXRXaW5uZXJHYW1lKHBsYXllcjFXaW5Sb3VuZCwgcGxheWVyMldpblJvdW5kLCBtYXhSb3VuZCl7XG4gICAgICAgIGlmIChwbGF5ZXIxV2luUm91bmQgPT0gbWF4Um91bmQgfHwgcGxheWVyMldpblJvdW5kID09IG1heFJvdW5kKXtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgXG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL0pTL21vZHVsZXMvQ29udHJvbGVyL0dhbWVDb250cm9sZXIuanMiXSwic291cmNlUm9vdCI6IiJ9